<!doctype html>
<html>
<head>
    <title>Tasks</title>

    <style>
        body {
            color: #d3d3d3;
            font: 12pt arial;
            background-color: #222222;
        }

        #mynetwork {
            width: 800px;
            height: 800px;
            border: 1px solid #444444;
            background-color: #222222;
        }
    </style>

    <script src="../js/jquery.min.js"></script>
    <script src="../js/vis.min.js"></script>
    <link rel="stylesheet" href="../css/vis-network.min.css" />

</head>

<body>

<div id="mynetwork"></div>

<script>

    $(function() {
        $.ajax({
            url: '/api/tasks',
            type: 'GET',
            contentType: "application/json; charset=utf-8",
            async: true,
            dataType: 'json',
            success: function (data) {
                render(data);
            }
        });
    });

    function render(tasksInfo) {

        var container = document.getElementById('mynetwork');
        var data = {
            nodes: tasksInfo.taskPoints,
            edges: tasksInfo.taskRelations
        };
        var options = {
            nodes: {
                shape: 'dot',
                size: 30,
                font: {
                    size: 32,
                    color: '#ffffff'
                },
                borderWidth: 2
            },
            edges: {
                width: 2
            }
        };
        network = new vis.Network(container, data, options);
    }

</script>
</body>
</html>
